<div ng-include="'components/navbar/navbar.html'"></div>
<div layout flex class="container overflow-auto">
    <div flex layout="column">
        <div class="row col-xs-4 col-xs-offset-4">
            <div class="form-header">
                <h2 class="page-heading">Add Book</h2>
            </div>

            <form class="form card-frame" name="form" ng-submit="add(form)" novalidate > 
                <div class="width-100">
                    <div class="col-sm-6">  
                        <md-input-container>
                            <label>ISBN</label>
                            <input type="text" name="isbn" minlength="10" maxlength="10" ng-pattern="/^[0-9]{10}$/"  ng-model="book.isbn" required>
                        </md-input-container>
                            <p class="help-block error-margin" ng-show="form.isbn.$error.required && submitted" >
                             <font color="red">  Isbn is required.</font>
                            </p>                            
                            <p class="help-block error-margin" ng-show="submitted" >
                             <font color="red">  {{errors}} </font>
                            </p>
                    </div>
                    <div class="col-sm-6">
                        <md-input-container class="width-100">
                            <label>Category</label>
                            <md-select ng-model="book.catagory" name="category" required>                    
                                <md-option ng-value="book" ng-repeat="book in catagory" >{{ book.name }}</md-option>
                            </md-select>
                        </md-input-container> 
                             <p class="help-block" ng-show="form.category.$error.required && submitted" >
                             <font color="red">  Category is required.</font>
                            </p>
                    </div>
                </div>
                    <div class="col-sm-12">
                        <md-input-container  class="width-100">
                            <label>Title</label>
                            <input type="text" name="title" ng-model="book.title" required>
                        </md-input-container>
                            <p class="help-block error-margin" ng-show="form.title.$error.required && submitted" >
                             <font color="red">  Title is required.</font>
                            </p>
                    </div>
                    <div class="col-sm-12">
                        <md-input-container flex class="width-100" class="md-block">
                            <label>About this book</label>
                            <textarea ng-model="book.detail" md-maxlength="500" rows="3" md-select-on-focus></textarea>
                        </md-input-container>
                    </div>
                    <div class="col-sm-12">
                        <md-input-container class="width-100">
                            <label>Author</label>
                            <input type="text" name="author" ng-model="book.author" required>
                        </md-input-container>
                            <p class="help-block error-margin" ng-show="form.author.$error.required && submitted"  >
                             <font color="red">  Author is required.</font>
                            </p>
                    </div>
                    <div class="col-sm-6">
                        <md-input-container  class="width-100">
                            <label>Publisher</label>
                            <input type="text" name="pub" ng-model="book.pub" >
                        </md-input-container> 
                    </div>                                          
                    <div class="col-sm-6">
                        <md-input-container  class="width-100">
                            <label>Year Of Publication</label>
                            <input type="text" name="cat" ng-model="book.year" >
                        </md-input-container>
                    </div>
                    <div class="col-sm-12" >
                        <md-input-container  style="width: 45%">
                            <label>Total Copies</label>
                            <input type="number" name="copy" ng-model="book.tCopy" min="1" required>
                        </md-input-container>
                            <p class="help-block error-margin" ng-show="form.copy.$error.required && submitted" >
                                 <font color="red">  Total number of copies are required.</font>
                            </p>
                    </div>
                    <div class="col-sm-12 card-frame">
                    <div class="col-sm-12 " >
                        <md-input-container class="col-sm-12">
                            <div class="col-sm-12">
                             <h5 class="col-sm-6 " style="float: left; top: 15px;left:-40px; ">Donation : </h5>
                             <md-switch  class="col-sm-6"  style="float: left;left:-70px;" ng-model="Donations" >   
                             </md-switch>
                             </div>
                        </md-input-container>
                    </div>
                    <div class="col-sm-12" ng-if="Donations" >
                        <md-input-container  style="width: 45%">
                            <label>Donated by</label>
                            <input type="text" name="donatedby" ng-model="book.donatedBy" required>
                        </md-input-container>
                    </div>
                    <div class="col-sm-12" ng-if="Donations" >
                        <md-input-container  style="width: 100%">
                            <label>Detail</label>
                            <textarea rows="3" md-maxlength="500" ng-model="book.donationDetail" >
                            </textarea>
                        </md-input-container>
                    </div>
                    </div>
                                <p class="help-block">{{ errors.other }}</p>

                    <div class="row">
                        <div class="col-sm-6">
                            <md-button class="primary-color md-raised" type="submit">
                                ADD
                            </md-button>
                        </div>
                    </div>
            </form>
        </div>
    </div>
</div>
